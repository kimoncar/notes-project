# Подключение локального репозитория к GitHub по SSH

## Генерируем SSH-пару ключей

1. Проверяем наличие ранее сгенерированных ключей. Выполняем в консоли команду:
```
$ cd ~/.ssh/ && ls
```
Директория должна быть пустой. Если есть какие-то файлы, то их необходимо удалить.

2. Для генерации ключей выполняем команду:
```
$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
``` 
3. Подтверждаем место хранения ключей по-умолчанию, кодовую фразу оставляем пустой. Для этого везде жмем *Enter*.
4. Проверяем наличие созданных ключей:
```
$ ls -a ~/.ssh
```

## Регистрируемся на сайте GitHub
1. Переходим на страницу регистрации [GitHub](https://github.com/signup)
2. Заполняем все поля и подтверждаем регистрацию.
3. Переходим на страницу профиля в список репозиториев (Repositories), жмем кнопку [NEW](https://github.com/new)
4. Заполняем поле **Repository name**, например, *my-project* (для удобства имя репозитория сделать таким же как имя кашего локального проекта). По желанию можно заполнить поле **Description**.
5. Жмем кнопку **Create repository**.

## Добавляем ключ SSH
1. Переходим в настройки аккаунта в подраздел [SSH and GPG keys](https://github.com/settings/keys)
2. Жмем кнопку [New SSH Key](https://github.com/settings/ssh/new)
3. Заполняем название, например, *Personal key*.
4. **Key type** - *Authentication Key*.
5. В поле *Key* вставляем сгенерированный ключ. Для этого в своей консоли копируем публичный ключ командой:
```
$ clip < ~/.ssh/id_ed25519.pub 
```
и вставляем его в поле **Key**.

6. Жмем кнопку **Add SSH Key**.
7. Для проверки ключа вводим команду в консоли:
```
$ ssh -T git@github.com
```
8. Если вы впервые используете Git, то увидите сообщение о проверке ключа. Для проверке переходим по [ссылке](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints) и сравниваем ключ SHA256 с ключом, показанным в консоли. Если совпадает то подтверждаем:
```
yes -> Enter
```

## Связываем удаленный репозиторий с локальным
1. Переходим в локальный репозиторий:
```
$ cd ~/dev/first-project
```
2. Связываем репозитории:
```
$ git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git 
```
3. Проверяем привязку:
```
$ git remote -v
```
Должны увидеть следующее:
```
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (fetch)
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (push)
```
Если все так, то репозитории связаны. **Отправляй коммит!**
```
$ git add --all && git commit -m "Commit description." && git push
```

# Что такое хеш коммита?
**Хеш** - это основной идентификатор коммита. Зная хеш коммита, можно узнать автора и дату коммита и содержание заммиченных файлов.

Обычно хеш - это короткая строка (40 символов при алгоритме SHA-1). Все хеши и таблицу соответствий (хеш -> информация о коммите) Git хранит в папке *.git*.

# Лог коммитов и файл HEAD
Список коммитов вызывается командой:
```
$ git log
```
В описании каждого коммита выводится: хеш (после слова *commit*), author, date и сообщение коммита в конце.

Чтобы получить сокращенный лог (полезно, если в репозитории много коммитов), выполняем команду:
```
$ git log --oneline
```
Будет показан сокращенный хеш и сообщение коммита. Сокращенный хеш можно использовать так же, как и полный.

Служебный файл **HEAD** указывает на самый новый коммит (последний коммит). Внутри файла **HEAD** - ссылка на служебный файл *refs/heads/master*, в котором записывается хеш последнего коммита.

# Статусы файлов в Git
**untracked** - *неотслеживаемый*. Файл только что создан и Git еще не отслеживает его содержимое.

**staged** - *подготовленный*. После выполнения команды:
```
$ git add
```
файл попадает в **staging area**, то есть в список файлов, которые войдут в коммит.

**tracked** - *отслеживаемый*. Файлы с этим статусом уже были закоммичены:
```
$ git commit
```
Git уже отслеживает эти файлы.

Также этот статус имеют файлы, которые добавленны в **staging area** командой:
```
$ git add
```
